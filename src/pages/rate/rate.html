<ion-header>
  <ion-navbar>
    <ion-title>
      Rate
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="home">

  <!-- UI if user is at a party. -->
  <ion-grid *ngIf="(bar == null) && (party != null)">

    <ion-row>
      <ion-col col-12 class="singleElement">
        <div class="centerMe">
          <h1 [style.color]="{'Bumpin': '#32db64', 'Heating Up': 'yellow', 'Decent': 'orange', 'Weak': '#f53d3d'}[party.averageRating]">{{party.title}}</h1>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 class="singleElement">
        <div class="centerMe">
          <label>{{party.numberOfPeopleAtParty}} people are at this party</label>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-6 class="twoElementsSmall">
        <div class="centerMe">
            <label>{{party.percentageOfMen}}% Men</label>
        </div>
      </ion-col>
      <ion-col col-6 class="twoElementsSmall">
        <div class="centerMe">
            <label>{{party.percentageOfWomen}}% Women</label>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 class="singleElement">
        <div class="centerMe">
            <label>Your Rating: {{party.myInviteeInfo.rating}}</label>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label>Bumpin</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateParty("Bumpin");'>
            {{party.bumpinRatings}}
          </button>
        </div>
      </ion-col>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label style="color: yellow;">Heat'n-up</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateParty("Heating Up");'>
            {{party.heatingUpRatings}}
          </button>
        </div>
      </ion-col>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label style="color: orange;">Decent</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateParty("Decent");'>
            {{party.decentRatings}}
          </button>
        </div>
      </ion-col>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label style="color: #f53d3d;">Weak</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateParty("Weak");'>
            {{party.weakRatings}}
          </button>
        </div>
      </ion-col>
    </ion-row>

  </ion-grid>

  <!-- UI if user is at a bar. -->
  <ion-grid *ngIf="(bar != null) && (party == null)">

    <ion-row>
      <ion-col col-12 class="singleElement">
        <div class="centerMe">
          <h1 [style.color]="{'Bumpin': '#32db64', 'Heating Up': 'yellow', 'Decent': 'orange', 'Weak': '#f53d3d'}[bar.averageRating]">{{bar.name}}</h1>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 class="singleElement">
        <div class="centerMe">
          <label>{{bar.numberOfPeopleAtBar}} people are at this bar</label>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-6 class="twoElementsSmall">
        <div class="centerMe">
            <label>{{bar.percentageOfMen}}% Men</label>
        </div>
      </ion-col>
      <ion-col col-6 class="twoElementsSmall">
        <div class="centerMe">
            <label>{{bar.percentageOfWomen}}% Women</label>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 class="singleElement">
        <div class="centerMe">
            <label>Your Rating: {{bar.myAttendeeInfo == null ? "None" : bar.myAttendeeInfo.rating}}</label>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label>Bumpin</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateBar("Bumpin");'>
            {{bar.bumpinRatings}}
          </button>
        </div>
      </ion-col>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label style="color: yellow;">Heat'n-up</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateBar("Heating Up");'>
            {{bar.heatingUpRatings}}
          </button>
        </div>
      </ion-col>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label style="color: orange;">Decent</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateBar("Decent");'>
            {{bar.decentRatings}}
          </button>
        </div>
      </ion-col>
      <ion-col col-3 class="fourElements">
        <div class="centerMe">
          <label style="color: #f53d3d;">Weak</label>
        </div>
        <div class="centerMe">
          <button ion-button [color]="primary" style="color: black;" (click)='rateBar("Weak");'>
            {{bar.weakRatings}}
          </button>
        </div>
      </ion-col>
    </ion-row>

  </ion-grid>

  <!-- UI if user is not at a party or bar. -->
  <ion-grid *ngIf="(bar == null) && (party == null)">

    <ion-row>
      <ion-col col-12 class="singleElement">
        <div class="centerMe">
          <h1 [style.color]="'#32db64'">You aren't at a party or bar.</h1>
        </div>
      </ion-col>
    </ion-row>

  </ion-grid>

</ion-content>

